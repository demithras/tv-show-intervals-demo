{"uid":"a0a835fe982f209f","name":"All programs from the programs table should exist in the program_intervals table","fullName":"features/data_integrity.feature:All programs from the programs table should exist in the program_intervals table","historyId":"41b03726738935ec2d152f68fec8aaf6.d41d8cd98f00b204e9800998ecf8427e","time":{"start":1757622043263,"stop":1757622046257,"duration":2994},"description":"As a TV scheduling system administrator\nI want to ensure that all programs in the programs table have corresponding entries in the program_intervals table\nSo that I can maintain data consistency and completeness across the system","descriptionHtml":"<p>As a TV scheduling system administrator<br />\nI want to ensure that all programs in the programs table have corresponding entries in the program_intervals table<br />\nSo that I can maintain data consistency and completeness across the system</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"As a TV scheduling system administrator\nI want to ensure that all programs in the programs table have corresponding entries in the program_intervals table\nSo that I can maintain data consistency and completeness across the system","status":"passed","steps":[{"name":"Given the database is clean","time":{"start":1757622043263,"stop":1757622044317,"duration":1054},"status":"passed","steps":[],"attachments":[{"uid":"20c9ee5866df4e8c","name":"Database State","source":"20c9ee5866df4e8c.txt","type":"text/plain","size":29}],"parameters":[{"name":"clean_database","value":"<cursor object at 0x7f09a7ef5750; closed: 0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"And I load the full day programming schedule from CSV file \"full_day_programs.csv\"","time":{"start":1757622044318,"stop":1757622046062,"duration":1744},"status":"passed","steps":[],"attachments":[{"uid":"3260caa7f203dfad","name":"Full Day Schedule Loaded from CSV","source":"3260caa7f203dfad.txt","type":"text/plain","size":518},{"uid":"28f4ac652e29b73c","name":"Load Summary","source":"28f4ac652e29b73c.txt","type":"text/plain","size":25},{"uid":"e35a22c7e0d4abc9","name":"Source File","source":"e35a22c7e0d4abc9.txt","type":"text/plain","size":31}],"parameters":[{"name":"csv_filename","value":"'full_day_programs.csv'"},{"name":"clean_database","value":"<cursor object at 0x7f09a7ef5750; closed: 0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true},{"name":"When I query both programs and program_intervals tables","time":{"start":1757622046062,"stop":1757622046255,"duration":193},"status":"passed","steps":[],"attachments":[{"uid":"6be9e68d70dc3ba5","name":"Table Query Results","source":"6be9e68d70dc3ba5.txt","type":"text/plain","size":38}],"parameters":[{"name":"clean_database","value":"<cursor object at 0x7f09a7ef5750; closed: 0>"},{"name":"test_context","value":"{}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Then every program in the programs table should have a corresponding entry in the program_intervals table","time":{"start":1757622046256,"stop":1757622046256,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"a0816b8d18205c83","name":"Program-Interval Mapping","source":"a0816b8d18205c83.txt","type":"text/plain","size":52}],"parameters":[{"name":"test_context","value":"{'programs': [RealDictRow([('program_name', ''), ('start_time', datetime.time(22, 0)), ('end_time', datetime.time(0, 0))]), RealDictRow([('program_name', 'Afternoon Drama'), ('start_time', datetime.time(12, 30)), ('end_time', datetime.time(13, 30))]), RealDictRow([('program_name', 'Comedy Hour'), ('start_time', datetime.time(19, 0)), ('end_time', datetime.time(20, 0))]), RealDictRow([('program_name', 'Cooking Show'), ('start_time', datetime.time(14, 30)), ('end_time', datetime.time(15, 0))]), RealDictRow([('program_name', 'Documentary Hour'), ('start_time', datetime.time(15, 0)), ('end_time', datetime.time(16, 0))]), RealDictRow([('program_name', 'Early Morning News'), ('start_time', datetime.time(0, 0)), ('end_time', datetime.time(6, 0))]), RealDictRow([('program_name', 'Evening Magazine'), ('start_time', datetime.time(17, 30)), ('end_time', datetime.time(18, 0))]), RealDictRow([('program_name', 'Game Show Classic'), ('start_time', datetime.time(10, 0)), ('end_time', datetime.time(10, 30))]), RealDictRow([('program_name', 'Kids After School'), ('start_time', datetime.time(16, 0)), ('end_time', datetime.time(17, 0))]), RealDictRow([('program_name', 'Late Night Talk'), ('start_time', datetime.time(21, 0)), ('end_time', datetime.time(22, 1))]), RealDictRow([('program_name', 'Local News'), ('start_time', datetime.time(17, 0)), ('end_time', datetime.time(17, 30))]), RealDictRow([('program_name', 'Lunch Break News'), ('start_time', datetime.time(12, 0)), ('end_time', datetime.time(12, 30))]), RealDictRow([('program_name', 'Morning Show'), ('start_time', datetime.time(6, 0)), ('end_time', datetime.time(9, 0))]), RealDictRow([('program_name', 'Prime Time Drama'), ('start_time', datetime.time(18, 0)), ('end_time', datetime.time(19, 0))]), RealDictRow([('program_name', 'Reality Show'), ('start_time', datetime.time(20, 0)), ('end_time', datetime.time(21, 0))]), RealDictRow([('program_name', 'Shopping Network'), ('start_time', datetime.time(10, 30)), ('end_time', datetime.time(12, 0))]), RealDictRow([('program_name', 'Soap Opera Daily'), ('start_time', datetime.time(13, 30)), ('end_time', datetime.time(14, 30))]), RealDictRow([('program_name', 'Talk Show Hour'), ('start_time', datetime.time(9, 0)), ('end_time', datetime.time(10, 0))])], 'intervals': [RealDictRow([('program_name', ''), ('interval_count', 8)]), RealDictRow([('program_name', 'Afternoon Drama'), ('interval_count', 4)]), RealDictRow([('program_name', 'Comedy Hour'), ('interval_count', 4)]), RealDictRow([('program_name', 'Cooking Show'), ('interval_count', 2)]), RealDictRow([('program_name', 'Documentary Hour'), ('interval_count', 4)]), RealDictRow([('program_name', 'Early Morning News'), ('interval_count', 24)]), RealDictRow([('program_name', 'Evening Magazine'), ('interval_count', 2)]), RealDictRow([('program_name', 'Game Show Classic'), ('interval_count', 2)]), RealDictRow([('program_name', 'Kids After School'), ('interval_count', 4)]), RealDictRow([('program_name', 'Late Night Talk'), ('interval_count', 4)]), RealDictRow([('program_name', 'Local News'), ('interval_count', 2)]), RealDictRow([('program_name', 'Lunch Break News'), ('interval_count', 2)]), RealDictRow([('program_name', 'Morning Show'), ('interval_count', 12)]), RealDictRow([('program_name', 'Prime Time Drama'), ('interval_count', 4)]), RealDictRow([('program_name', 'Reality Show'), ('interval_count', 4)]), RealDictRow([('program_name', 'Shopping Network'), ('interval_count', 6)]), RealDictRow([('program_name', 'Soap Opera Daily'), ('interval_count', 4)]), RealDictRow([('program_name', 'Talk Show Hour'), ('interval_count', 4)])]}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"And the program count in both tables should be equal","time":{"start":1757622046256,"stop":1757622046257,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"81f390f663188910","name":"Table Counts","source":"81f390f663188910.txt","type":"text/plain","size":38}],"parameters":[{"name":"test_context","value":"{'programs': [RealDictRow([('program_name', ''), ('start_time', datetime.time(22, 0)), ('end_time', datetime.time(0, 0))]), RealDictRow([('program_name', 'Afternoon Drama'), ('start_time', datetime.time(12, 30)), ('end_time', datetime.time(13, 30))]), RealDictRow([('program_name', 'Comedy Hour'), ('start_time', datetime.time(19, 0)), ('end_time', datetime.time(20, 0))]), RealDictRow([('program_name', 'Cooking Show'), ('start_time', datetime.time(14, 30)), ('end_time', datetime.time(15, 0))]), RealDictRow([('program_name', 'Documentary Hour'), ('start_time', datetime.time(15, 0)), ('end_time', datetime.time(16, 0))]), RealDictRow([('program_name', 'Early Morning News'), ('start_time', datetime.time(0, 0)), ('end_time', datetime.time(6, 0))]), RealDictRow([('program_name', 'Evening Magazine'), ('start_time', datetime.time(17, 30)), ('end_time', datetime.time(18, 0))]), RealDictRow([('program_name', 'Game Show Classic'), ('start_time', datetime.time(10, 0)), ('end_time', datetime.time(10, 30))]), RealDictRow([('program_name', 'Kids After School'), ('start_time', datetime.time(16, 0)), ('end_time', datetime.time(17, 0))]), RealDictRow([('program_name', 'Late Night Talk'), ('start_time', datetime.time(21, 0)), ('end_time', datetime.time(22, 1))]), RealDictRow([('program_name', 'Local News'), ('start_time', datetime.time(17, 0)), ('end_time', datetime.time(17, 30))]), RealDictRow([('program_name', 'Lunch Break News'), ('start_time', datetime.time(12, 0)), ('end_time', datetime.time(12, 30))]), RealDictRow([('program_name', 'Morning Show'), ('start_time', datetime.time(6, 0)), ('end_time', datetime.time(9, 0))]), RealDictRow([('program_name', 'Prime Time Drama'), ('start_time', datetime.time(18, 0)), ('end_time', datetime.time(19, 0))]), RealDictRow([('program_name', 'Reality Show'), ('start_time', datetime.time(20, 0)), ('end_time', datetime.time(21, 0))]), RealDictRow([('program_name', 'Shopping Network'), ('start_time', datetime.time(10, 30)), ('end_time', datetime.time(12, 0))]), RealDictRow([('program_name', 'Soap Opera Daily'), ('start_time', datetime.time(13, 30)), ('end_time', datetime.time(14, 30))]), RealDictRow([('program_name', 'Talk Show Hour'), ('start_time', datetime.time(9, 0)), ('end_time', datetime.time(10, 0))])], 'intervals': [RealDictRow([('program_name', ''), ('interval_count', 8)]), RealDictRow([('program_name', 'Afternoon Drama'), ('interval_count', 4)]), RealDictRow([('program_name', 'Comedy Hour'), ('interval_count', 4)]), RealDictRow([('program_name', 'Cooking Show'), ('interval_count', 2)]), RealDictRow([('program_name', 'Documentary Hour'), ('interval_count', 4)]), RealDictRow([('program_name', 'Early Morning News'), ('interval_count', 24)]), RealDictRow([('program_name', 'Evening Magazine'), ('interval_count', 2)]), RealDictRow([('program_name', 'Game Show Classic'), ('interval_count', 2)]), RealDictRow([('program_name', 'Kids After School'), ('interval_count', 4)]), RealDictRow([('program_name', 'Late Night Talk'), ('interval_count', 4)]), RealDictRow([('program_name', 'Local News'), ('interval_count', 2)]), RealDictRow([('program_name', 'Lunch Break News'), ('interval_count', 2)]), RealDictRow([('program_name', 'Morning Show'), ('interval_count', 12)]), RealDictRow([('program_name', 'Prime Time Drama'), ('interval_count', 4)]), RealDictRow([('program_name', 'Reality Show'), ('interval_count', 4)]), RealDictRow([('program_name', 'Shopping Network'), ('interval_count', 6)]), RealDictRow([('program_name', 'Soap Opera Daily'), ('interval_count', 4)]), RealDictRow([('program_name', 'Talk Show Hour'), ('interval_count', 4)])]}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":7,"hasContent":true},"afterStages":[],"labels":[{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"2756-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Data Integrity Between Programs and Program Intervals Tables"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"a0a835fe982f209f.json","parameterValues":[]}