{"uid":"e918a6674db71d5a","name":"Program names should not be empty or null","fullName":"features/data_integrity.feature:Program names should not be empty or null","historyId":"fabf4b6fc20ee61d90910c4ccfc0e8df.d41d8cd98f00b204e9800998ecf8427e","time":{"start":1757689519218,"stop":1757689519726,"duration":508},"description":"As a TV scheduling system administrator\nI want to ensure that all programs in the programs table have corresponding entries in the program_intervals table\nSo that I can maintain data consistency and completeness across the system","descriptionHtml":"<p>As a TV scheduling system administrator<br />\nI want to ensure that all programs in the programs table have corresponding entries in the program_intervals table<br />\nSo that I can maintain data consistency and completeness across the system</p>\n","status":"failed","statusMessage":"AssertionError: Found programs with empty names: Program with empty name: start=22:00:00, end=00:00:00\nassert 1 == 0\n +  where 1 = len(['Program with empty name: start=22:00:00, end=00:00:00'])","statusTrace":"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/_pytest/fixtures.py:930: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\ntest_data_integrity.py:296: in verify_program_names_not_empty\n    assert len(empty_names) == 0, f\"Found programs with empty names: {'; '.join(empty_names)}\"\nE   AssertionError: Found programs with empty names: Program with empty name: start=22:00:00, end=00:00:00\nE   assert 1 == 0\nE    +  where 1 = len(['Program with empty name: start=22:00:00, end=00:00:00'])","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"As a TV scheduling system administrator\nI want to ensure that all programs in the programs table have corresponding entries in the program_intervals table\nSo that I can maintain data consistency and completeness across the system","status":"failed","statusMessage":"AssertionError: Found programs with empty names: Program with empty name: start=22:00:00, end=00:00:00\nassert 1 == 0\n +  where 1 = len(['Program with empty name: start=22:00:00, end=00:00:00'])","statusTrace":"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/_pytest/fixtures.py:930: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\ntest_data_integrity.py:296: in verify_program_names_not_empty\n    assert len(empty_names) == 0, f\"Found programs with empty names: {'; '.join(empty_names)}\"\nE   AssertionError: Found programs with empty names: Program with empty name: start=22:00:00, end=00:00:00\nE   assert 1 == 0\nE    +  where 1 = len(['Program with empty name: start=22:00:00, end=00:00:00'])","steps":[{"name":"Given the database is clean with test data loaded","time":{"start":1757689519218,"stop":1757689519387,"duration":169},"status":"passed","steps":[],"attachments":[{"uid":"71851e4aa9827ef6","name":"Database State","source":"71851e4aa9827ef6.txt","type":"text/plain","size":37}],"parameters":[{"name":"clean_database","value":"<cursor object at 0x7f013affcc50; closed: 0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"When I query both programs and program_intervals tables","time":{"start":1757689519387,"stop":1757689519724,"duration":337},"status":"passed","steps":[],"attachments":[{"uid":"e30c1c63f8549b4a","name":"Table Query Results","source":"e30c1c63f8549b4a.txt","type":"text/plain","size":38}],"parameters":[{"name":"clean_database","value":"<cursor object at 0x7f013affcc50; closed: 0>"},{"name":"test_context","value":"{}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Then all program names in the programs table should not be empty","time":{"start":1757689519725,"stop":1757689519726,"duration":1},"status":"failed","statusMessage":"AssertionError: Found programs with empty names: Program with empty name: start=22:00:00, end=00:00:00\nassert 1 == 0\n +  where 1 = len(['Program with empty name: start=22:00:00, end=00:00:00'])\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pytest_bdd/scenario.py\", line 240, in _execute_step_function\n    return_value = call_fixture_func(fixturefunc=context.step_func, request=request, kwargs=kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 930, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/tv-show-intervals-demo/tv-show-intervals-demo/test_data_integrity.py\", line 296, in verify_program_names_not_empty\n    assert len(empty_names) == 0, f\"Found programs with empty names: {'; '.join(empty_names)}\"\n","steps":[],"attachments":[{"uid":"e08b0486a07c90f2","name":"Program Name Validation","source":"e08b0486a07c90f2.txt","type":"text/plain","size":123}],"parameters":[{"name":"test_context","value":"{'programs': [RealDictRow([('program_name', ' '), ('start_time', datetime.time(22, 0)), ('end_time', datetime.time(0, 0))]), RealDictRow([('program_name', 'Afternoon Drama'), ('start_time', datetime.time(12, 30)), ('end_time', datetime.time(13, 30))]), RealDictRow([('program_name', 'Comedy Hour'), ('start_time', datetime.time(19, 0)), ('end_time', datetime.time(20, 0))]), RealDictRow([('program_name', 'Cooking Show'), ('start_time', datetime.time(14, 30)), ('end_time', datetime.time(15, 0))]), RealDictRow([('program_name', 'Documentary Hour'), ('start_time', datetime.time(15, 0)), ('end_time', datetime.time(16, 0))]), RealDictRow([('program_name', 'Early Morning News'), ('start_time', datetime.time(0, 0)), ('end_time', datetime.time(6, 0))]), RealDictRow([('program_name', 'Evening Magazine'), ('start_time', datetime.time(17, 30)), ('end_time', datetime.time(18, 0))]), RealDictRow([('program_name', 'Game Show Classic'), ('start_time', datetime.time(10, 0)), ('end_time', datetime.time(10, 30))]), RealDictRow([('program_name', 'Kids After School'), ('start_time', datetime.time(16, 0)), ('end_time', datetime.time(17, 0))]), RealDictRow([('program_name', 'Late Night Talk'), ('start_time', datetime.time(21, 0)), ('end_time', datetime.time(22, 1))]), RealDictRow([('program_name', 'Local News'), ('start_time', datetime.time(17, 0)), ('end_time', datetime.time(17, 30))]), RealDictRow([('program_name', 'Lunch Break News'), ('start_time', datetime.time(12, 0)), ('end_time', datetime.time(12, 30))]), RealDictRow([('program_name', 'Morning Show'), ('start_time', datetime.time(6, 0)), ('end_time', datetime.time(9, 0))]), RealDictRow([('program_name', 'Prime Time Drama'), ('start_time', datetime.time(18, 0)), ('end_time', datetime.time(19, 0))]), RealDictRow([('program_name', 'Reality Show'), ('start_time', datetime.time(20, 0)), ('end_time', datetime.time(21, 0))]), RealDictRow([('program_name', 'Shopping Network'), ('start_time', datetime.time(10, 30)), ('end_time', datetime.time(12, 0))]), RealDictRow([('program_name', 'Soap Opera Daily'), ('start_time', datetime.time(13, 30)), ('end_time', datetime.time(14, 30))]), RealDictRow([('program_name', 'Talk Show Hour'), ('start_time', datetime.time(9, 0)), ('end_time', datetime.time(10, 0))])], 'intervals': [RealDictRow([('program_name', ' '), ('interval_count', 8)]), RealDictRow([('program_name', 'Afternoon Drama'), ('interval_count', 4)]), RealDictRow([('program_name', 'Comedy Hour'), ('interval_count', 4)]), RealDictRow([('program_name', 'Cooking Show'), ('interval_count', 2)]), RealDictRow([('program_name', 'Documentary Hour'), ('interval_count', 4)]), RealDictRow([('program_name', 'Early Morning News'), ('interval_count', 24)]), RealDictRow([('program_name', 'Evening Magazine'), ('interval_count', 2)]), RealDictRow([('program_name', 'Game Show Classic'), ('interval_count', 2)]), RealDictRow([('program_name', 'Kids After School'), ('interval_count', 4)]), RealDictRow([('program_name', 'Late Night Talk'), ('interval_count', 4)]), RealDictRow([('program_name', 'Local News'), ('interval_count', 2)]), RealDictRow([('program_name', 'Lunch Break News'), ('interval_count', 2)]), RealDictRow([('program_name', 'Morning Show'), ('interval_count', 12)]), RealDictRow([('program_name', 'Prime Time Drama'), ('interval_count', 4)]), RealDictRow([('program_name', 'Reality Show'), ('interval_count', 4)]), RealDictRow([('program_name', 'Shopping Network'), ('interval_count', 6)]), RealDictRow([('program_name', 'Soap Opera Daily'), ('interval_count', 4)]), RealDictRow([('program_name', 'Talk Show Hour'), ('interval_count', 4)])]}"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"And all program names in the program_intervals table should not be empty","time":{"start":1757689519749,"stop":1757689519749,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":3,"hasContent":true},"afterStages":[],"labels":[{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"2778-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Data Integrity Between Programs and Program Intervals Tables"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":1,"unknown":0,"total":3},"items":[{"uid":"69679a64b9a258c3","status":"passed","time":{"start":1757689390392,"stop":1757689390874,"duration":482}},{"uid":"8e7629f5758ad0f8","status":"failed","statusDetails":"AssertionError: Found programs with empty names: Program with empty name: start=22:00:00, end=00:00:00\nassert 1 == 0\n +  where 1 = len(['Program with empty name: start=22:00:00, end=00:00:00'])","time":{"start":1757622052002,"stop":1757622054313,"duration":2311}}]},"tags":[]},"source":"e918a6674db71d5a.json","parameterValues":[]}